function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2ddU":function(e,t,n){"use strict";n.r(t);var a,r,o,i,c=n("ofXK"),l=n("tyNb"),s=n("3Pt+"),u=n("fXoL"),d=function(){var e={Up:1,Down:3,Right:6,Left:8,UpMirrored:2,DownMirrored:4,LeftMirrored:5,RightMirrored:7,NotJpeg:-1,NotDefined:-2};return e[e.Up]="Up",e[e.Down]="Down",e[e.Right]="Right",e[e.Left]="Left",e[e.UpMirrored]="UpMirrored",e[e.DownMirrored]="DownMirrored",e[e.LeftMirrored]="LeftMirrored",e[e.RightMirrored]="RightMirrored",e[e.NotJpeg]="NotJpeg",e[e.NotDefined]="NotDefined",e}(),m=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getOrientation",value:function(e,t){var n=new FileReader;try{n.onload=function(e){var a=new DataView(n.result);if(65496!==a.getUint16(0,!1))return t(-2);for(var r=a.byteLength,o=2;o<r;){var i=a.getUint16(o,!1);if(o+=2,65505===i){if(1165519206!==a.getUint32(o+=2,!1))return t(-1);var c=18761===a.getUint16(o+=6,!1);o+=a.getUint32(o+4,c);var l=a.getUint16(o,c);o+=2;for(var s=0;s<l;s++)if(274===a.getUint16(o+12*s,c))return t(a.getUint16(o+12*s+8,c))}else{if(65280!=(65280&i))break;o+=a.getUint16(o,!1)}}return t(-1)},n.readAsArrayBuffer(e)}catch(a){return t(0)}}},{key:"uploadFile",value:function(t){return new Promise((function(n,a){var r=t.createElement("input");t.setStyle(r,"display","none"),t.setProperty(r,"type","file"),t.setProperty(r,"accept","image/*"),t.listen(r,"click",(function(e){e.target.value=null})),t.listen(r,"change",(function(t){var r=t.target.files[0],o=new FileReader;o.onloadend=function(t){try{e.getOrientation(r,(function(e){n({image:o.result,orientation:e})}))}catch(t){a(t)}};try{o.readAsDataURL(r)}catch(i){console.warn("ngx-image-compress - probably no file have been selected: ".concat(i)),a("No file selected")}})),r.click()}))}},{key:"compress",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50;return new Promise((function(o,i){r/=100,a/=100;var c=new Image;c.onload=function(){var i,l,s=n.createElement("canvas"),u=s.getContext("2d");if(i=c.naturalWidth,l=c.naturalHeight,t===d.Right||t===d.Left){var m=i;i=l,l=m}s.width=i*a,s.height=l*a;var f=Math.PI/180;t===d.Up?u.drawImage(c,0,0,s.width,s.height):t===d.Right?(u.save(),u.rotate(90*f),u.translate(0,-s.width),u.drawImage(c,0,0,s.height,s.width),u.restore()):t===d.Left?(u.save(),u.rotate(-90*f),u.translate(-s.width,0),u.drawImage(c,0,0,s.height,s.width),u.restore()):t===d.Down?(u.save(),u.rotate(180*f),u.translate(-s.width,-s.height),u.drawImage(c,0,0,s.width,s.height),u.restore()):u.drawImage(c,0,0,s.width,s.height);var p=e.substr(5,e.split(";")[0].length-5),b=s.toDataURL(p,r);o(b)},c.src=e}))}},{key:"byteCount",value:function(e){return encodeURI(e).split(/%..|./).length-1}}]),e}(),f=((a=function(){function e(t){_classCallCheck(this,e),this.DOC_ORIENTATION=d,this.render=t.createRenderer(null,null)}return _createClass(e,[{key:"byteCount",value:function(e){return m.byteCount(e)}},{key:"uploadFile",value:function(){return m.uploadFile(this.render)}},{key:"compressFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;return m.compress(e,t,this.render,n,a)}}]),e}()).\u0275fac=function(e){return new(e||a)(u.Zb(u.G))},a.\u0275prov=u.Lb({token:a,factory:a.\u0275fac}),a),p=n("0IaG"),b=n("0MNC"),g=((r=function(){function e(t,n){_classCallCheck(this,e),this.dialogRef=t,this.breakpointObserver=n}return _createClass(e,[{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ngOnInit",value:function(){var e=this;this.breakpointObserver.observe(["(min-width: 600px)"]).subscribe((function(t){e.dialogRef.updateSize(t.matches?"50%":"80%")}))}}]),e}()).\u0275fac=function(e){return new(e||r)(u.Pb(p.h),u.Pb(b.a))},r.\u0275cmp=u.Jb({type:r,selectors:[["app-image-dialog"]],decls:1,vars:1,consts:[[3,"galleryId"]],template:function(e,t){1&e&&u.Qb(0,"app-upload-component",0),2&e&&u.mc("galleryId",t.galleryId)},styles:[""]}),r),h=n("y+nO"),y=n("1G5W"),v=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"openImage",value:function(e){var t=document.getElementById("myModal"),n=(document.getElementById("myImg"),document.getElementById("img01")),a=document.getElementById("caption");t.style.display="block",n.src=e.target.src,a.innerHTML=e.target.alt}},{key:"closeModal",value:function(){document.getElementById("myModal").style.display="none"}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=u.Jb({type:o,selectors:[["app-image-modal"]],decls:5,vars:0,consts:[["id","myModal",1,"modal"],[1,"close",3,"click"],["id","img01",1,"modal-content"],["id","caption"]],template:function(e,t){1&e&&(u.Vb(0,"div",0),u.Vb(1,"span",1),u.dc("click",(function(){return t.closeModal()})),u.Dc(2,"\xd7"),u.Ub(),u.Qb(3,"img",2),u.Qb(4,"div",3),u.Ub())},styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;padding-top:100px;left:0;top:0;width:100%;overflow:auto;background-color:#000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto;padding:0;height:80vh;max-width:1200px;width:auto}.close[_ngcontent-%COMP%]{color:#fff;position:absolute;top:10px;right:25px;font-size:35px;font-weight:700}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{color:#999;text-decoration:none;cursor:pointer}"]}),o),x=n("AytR"),_=n("bGI5"),w=n("XiUz"),C=n("bTqV"),k=((i=function(){function e(t){_classCallCheck(this,e),this.facade=t,this.onPublishChanges=new u.o}return _createClass(e,[{key:"logout",value:function(){this.facade.logoutRequested()}}]),e}()).\u0275fac=function(e){return new(e||i)(u.Pb(_.a))},i.\u0275cmp=u.Jb({type:i,selectors:[["app-user-bar"]],outputs:{onPublishChanges:"onPublishChanges"},decls:6,vars:0,consts:[["fxLayout","row",1,"user-bar-container"],["mat-button","",1,"ok-button",3,"click"],["fxFlex",""],["mat-button","",1,"warn-button",3,"click"]],template:function(e,t){1&e&&(u.Vb(0,"div",0),u.Vb(1,"button",1),u.dc("click",(function(){return t.onPublishChanges.emit()})),u.Dc(2," Julkaise muutokset "),u.Ub(),u.Qb(3,"span",2),u.Vb(4,"button",3),u.dc("click",(function(){return t.logout()})),u.Dc(5," Kirjaudu ulos "),u.Ub(),u.Ub())},directives:[w.f,C.b,w.b],styles:[".user-bar-container[_ngcontent-%COMP%]{background-color:grey;padding:8px}"]}),i),O=n("5+WD"),P=n("Wp6s"),M=["f"],I=["subGalleryForm"];function U(e,t){if(1&e){var n=u.Wb();u.Vb(0,"mat-card",32),u.Vb(1,"mat-card-content"),u.Vb(2,"div",33),u.Vb(3,"div",19),u.Vb(4,"span",20),u.dc("click",(function(){u.vc(n);var e=t.$implicit,a=u.hc().$implicit;return u.hc().deleteImage(e._id,a._id)})),u.Qb(5,"i",21),u.Ub(),u.Qb(6,"span",22),u.Vb(7,"span",23),u.Qb(8,"i",24),u.Ub(),u.Ub(),u.Vb(9,"img",34),u.dc("click",(function(e){return u.vc(n),u.hc(2).openImage(e)})),u.Ub(),u.Vb(10,"span",9),u.Qb(11,"img",10),u.Vb(12,"input",35),u.dc("focusout",(function(){u.vc(n);var e=t.$implicit,a=u.hc().$implicit;return u.hc().onFocusOutImg(a._id,"alt_fi",e._id)})),u.Ub(),u.Ub(),u.Vb(13,"span",9),u.Qb(14,"img",12),u.Vb(15,"input",35),u.dc("focusout",(function(){u.vc(n);var e=t.$implicit,a=u.hc().$implicit;return u.hc().onFocusOutImg(a._id,"alt_en",e._id)})),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var a=t.$implicit,r=u.hc().$implicit,o=u.hc();u.Cb(9),u.nc("src",a.url,u.wc),u.nc("alt",a.alt_fi),u.Cb(2),u.mc("src",o.flagIcons[0].src,u.wc),u.Cb(1),u.nc("name","subGalleryId:"+r._id+" imgId:"+a._id+" alt_fi"),u.mc("ngModel",a.alt_fi),u.Cb(2),u.mc("src",o.flagIcons[1].src,u.wc),u.Cb(1),u.nc("name","subGalleryId:"+r._id+" imgId:"+a._id+" alt_en"),u.mc("ngModel",a.alt_en)}}function F(e,t){if(1&e){var n=u.Wb();u.Vb(0,"div",15),u.Vb(1,"div",16),u.Vb(2,"div",17),u.Vb(3,"div",18),u.Vb(4,"div",19),u.Vb(5,"span",20),u.dc("click",(function(){u.vc(n);var e=t.$implicit;return u.hc().onDeleteSubGallery(e)})),u.Qb(6,"i",21),u.Ub(),u.Qb(7,"span",22),u.Vb(8,"span",23),u.Qb(9,"i",24),u.Ub(),u.Ub(),u.Vb(10,"span",9),u.Qb(11,"img",25),u.Vb(12,"input",26),u.dc("focusout",(function(){u.vc(n);var e=t.$implicit;return u.hc().onFocusOutSubGallery(e._id,"fi")})),u.Ub(),u.Ub(),u.Vb(13,"span",9),u.Qb(14,"img",27),u.Vb(15,"input",26),u.dc("focusout",(function(){u.vc(n);var e=t.$implicit;return u.hc().onFocusOutSubGallery(e._id,"en")})),u.Ub(),u.Ub(),u.Ub(),u.Vb(16,"div",28),u.dc("cdkDropListDropped",(function(e){u.vc(n);var a=t.$implicit;return u.hc().drop(e,a)})),u.Cc(17,U,16,8,"mat-card",29),u.Ub(),u.Vb(18,"span",30),u.Vb(19,"button",31),u.dc("click",(function(){u.vc(n);var e=t.$implicit;return u.hc().onAddImage(e)})),u.Dc(20," + "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var a=t.$implicit,r=u.hc();u.Cb(11),u.mc("src",r.flagIcons[0].src,u.wc),u.Cb(1),u.nc("name","subGalleryId:"+a._id+" fi"),u.mc("ngModel",a.fi),u.Cb(2),u.mc("src",r.flagIcons[1].src,u.wc),u.Cb(1),u.nc("name","subGalleryId:"+a._id+" en"),u.mc("ngModel",a.en),u.Cb(1),u.mc("cdkDropListConnectedTo",r.imagesDropList)("id",a._id),u.Cb(1),u.mc("ngForOf",a.images)}}var L,G,D,S=((G=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a){var r;return _classCallCheck(this,n),(r=t.call(this)).dialog=e,r.facade=a,r.flagIcons=[{src:"./assets/fi.png",alt:"fi"},{src:"./assets/uk.png",alt:"uk"}],r.subGalleries=[],r.imagesDropList=[],r.subGalleries$=r.facade.selectSubGalleries(),r}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.facade.subGalleriesRequested(x.a.baseUrl+"/api/galleries"),this.subGalleries$.pipe(Object(y.a)(this.ngUnsubscribe)).subscribe((function(t){e.subGalleries=t,e.updateDropList(),console.log(t)})),this.facade.autoLogin(),this.facade.getIsSubGalleryCreated().pipe(Object(y.a)(this.ngUnsubscribe)).subscribe((function(t){t&&e.newSubGalleryForm.reset()}))}},{key:"updateDropList",value:function(){this.imagesDropList=[];var e,t=_createForOfIteratorHelper(this.subGalleries);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.imagesDropList.push(n._id)}}catch(a){t.e(a)}finally{t.f()}}},{key:"deleteImage",value:function(e,t){0!=confirm("Haluatko varmasti poistaa kuvan?")&&this.facade.deleteImgRequested(e,t)}},{key:"imgMovedBetweenSubGalleries",value:function(e,t,n,a){var r=this,o=[],i=[],c=this.subGalleries.findIndex((function(t){return t._id===e}));(o=[].concat(_toConsumableArray(o),_toConsumableArray(this.subGalleries[t].images.map((function(e,t){return{id:e._id,changes:{so:t<n?e.so:e.so+1}}}))))).push({id:this.subGalleries[c].images[a]._id,changes:{gallery:this.subGalleries[t]._id,so:n}});var l=this.subGalleries[t].images.map((function(e){return e._id}));l.push(this.subGalleries[c].images[a]._id);var s={id:this.subGalleries[t]._id,changes:{images:l}};o=[].concat(_toConsumableArray(o),[this.subGalleries[c].images.map((function(e,t){if(t!==a)return{id:e._id,changes:{so:t<a?e.so:e.so-1}}}))]);var u={id:this.subGalleries[c]._id,changes:{images:this.subGalleries[c].images.map((function(e){return e._id})).filter((function(e){return e!==r.subGalleries[c].images[a]._id}))}};return i.push(s),i.push(u),[o,i]}},{key:"imgMovedInsideSubGallery",value:function(e,t,n,a){var r=[];if(e<0)for(var o=t;o<this.subGalleries[a].images.length;o++)r.push({id:this.subGalleries[a].images[o===t?n:o-1]._id,changes:{so:o}});else if(e>0)for(var i=t;i>=0;i--)r.push({id:this.subGalleries[a].images[i===t?n:i+1]._id,changes:{so:i}});return r}},{key:"drop",value:function(e,t){var n=this.subGalleries.indexOf(t),a=[],r=[];if(e.previousContainer!==e.container||e.previousIndex!==e.currentIndex){var o=[];e.previousContainer===e.container?o=this.imgMovedInsideSubGallery(e.currentIndex-e.previousIndex,e.currentIndex,e.previousIndex,n):(o=(r=this.imgMovedBetweenSubGalleries(e.previousContainer.id,n,e.currentIndex,e.previousIndex))[0],a=r[1]),this.facade.imagesUpdateToStoreRequested(o),this.facade.subGalleriesUpdateToStoreRequested(a)}}},{key:"dropSubGallery",value:function(e){if(e.previousIndex!==e.currentIndex){var t=[],n=e.currentIndex-e.previousIndex;if(n<0)for(var a=e.currentIndex;a<=e.currentIndex-n;a++)t.push({id:this.subGalleries[a===e.currentIndex?e.previousIndex:a-1]._id,changes:{so:a}});else if(n>0)for(var r=e.currentIndex;r>=e.currentIndex-n;r--)t.push({id:this.subGalleries[r===e.currentIndex?e.previousIndex:r+1]._id,changes:{so:r}});this.facade.subGalleriesUpdateToStoreRequested(t)}}},{key:"onPublishChanges",value:function(){this.facade.subGalleriesPublishRequested()}},{key:"onAddSubGallery",value:function(e){confirm("Haluatko varmasti luoda gallerian nimelt\xe4 '".concat(e.value.galleryFi,"'?"))&&this.facade.createSubGalleryRequested(e.value.galleryFi,e.value.galleryEn)}},{key:"onDeleteSubGallery",value:function(e){confirm("Haluatko varmasti poistaa gallerian '".concat(e.fi,"' ja kaikki sen sis\xe4lt\xe4m\xe4t kuvat?"))&&this.facade.subGalleryDeleteRequested(e._id)}},{key:"onAddImage",value:function(e){var t=new p.d;t.panelClass="custom-dialog-container",this.dialog.open(g,t).componentInstance.galleryId=e._id}},{key:"openImage",value:function(e){this.imageModal.openImage(e)}},{key:"onFocusOutSubGallery",value:function(e,t){var n=[];for(var a in this.subGalleryForm.form.controls){var r=this.subGalleryForm.form.controls[a].value,o=a.split(" "),i="";o[0].split(":")[1]===e&&(i=o[1])===t&&(n.push({id:e,changes:_defineProperty({},i,r)}),this.facade.subGalleriesUpdateToStoreRequested(n))}}},{key:"onFocusOutImg",value:function(e,t,n){var a=[];for(var r in this.subGalleryForm.form.controls){var o,i,c=this.subGalleryForm.form.controls[r].value,l=r.split(" "),s="";o=l[0].split(":")[1],i=l[1].split(":")[1],o===e&&i===n&&(s=l[2])===t&&(a.push({id:n,changes:_defineProperty({},s,c)}),this.facade.imagesUpdateToStoreRequested(a))}}}]),n}(h.a)).\u0275fac=function(e){return new(e||G)(u.Pb(p.a),u.Pb(_.a))},G.\u0275cmp=u.Jb({type:G,selectors:[["app-admin"]],viewQuery:function(e,t){var n;1&e&&(u.Hc(M,!0),u.Hc(I,!0),u.Hc(v,!0)),2&e&&(u.sc(n=u.ec())&&(t.newSubGalleryForm=n.first),u.sc(n=u.ec())&&(t.subGalleryForm=n.first),u.sc(n=u.ec())&&(t.imageModal=n.first))},features:[u.zb],decls:19,vars:4,consts:[["fxFill","","fxLayout","column",1,"page-container"],[3,"onPublishChanges"],["subGalleryForm","ngForm"],["fxFlex","","fxLayout","row","cdkDropListOrientation","horizontal","cdkDropList","",1,"sub-galleries-container",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","start center",1,"new-sub-gallery-main-container"],["fxLayout","row","fxLayoutAlign","center center",1,"new-sub-gallery-container"],["fxFlex","nogrow","fxLayout","column","fxLayoutAlign","none center","ngNativeValidate",""],["f","ngForm"],["fxFlex","nogrow","fxLayout","row","fxLayoutAlign","none center"],["fxFlex","nogrow","alt","flagIcons[0].src",1,"flag-icon",3,"src"],["type","text","name","galleryFi","placeholder","Uuden gallerian nimi","ngModel","","required","",1,"card-input"],["fxFlex","nogrow","alt","flagIcons[1].src",1,"flag-icon",3,"src"],["type","text","name","galleryEn","placeholder","Uuden gallerian nimi","ngModel","","required","",1,"card-input"],["fxFlex","nogrow",3,"disabled","click"],["cdkDrag",""],[1,"sub-gallery-container"],["fxLayout","column"],["fxFlex","nogrow","fxLayout","row wrap","fxLayoutAlign","center center",1,"sub-gallery-top-container"],["fxFlex","nogrow","fxLayout","row",1,"max-width"],[1,"delete-container",3,"click"],[1,"fa","fa-trash"],["fxFlex",""],["cdkDragHandle","",1,"drag-container"],[1,"fa","fa-arrows-alt"],["alt","flagIcons[0].src",1,"flag-icon",3,"src"],["fxFlex","nogrow","type","text",1,"card-input",3,"name","ngModel","focusout"],["alt","flagIcons[1].src",1,"flag-icon",3,"src"],["cdkDropList","","fxLayout","column","fxLayoutAlign","none center",1,"example-list",3,"cdkDropListConnectedTo","id","cdkDropListDropped"],["class","image-card","cdkDrag","",4,"ngFor","ngForOf"],["fxFlex","nogrow","fxLayout","row","fxLayoutAlign","center"],["type","button","fxFlex","nogrow",3,"click"],["cdkDrag","",1,"image-card"],["fxLayout","column","fxLayoutAlign","none center",1,"top-container"],["fxFlex","nogrow","id","myImg",1,"image",3,"src","alt","click"],["type","text","fxFlex","nogrow",1,"card-input",3,"name","ngModel","focusout"]],template:function(e,t){if(1&e){var n=u.Wb();u.Vb(0,"div",0),u.Vb(1,"app-user-bar",1),u.dc("onPublishChanges",(function(){return t.onPublishChanges()})),u.Ub(),u.Qb(2,"app-image-modal"),u.Vb(3,"form",null,2),u.Vb(5,"div",3),u.dc("cdkDropListDropped",(function(e){return t.dropSubGallery(e)})),u.Cc(6,F,21,9,"div",4),u.Vb(7,"div",5),u.Vb(8,"div",6),u.Vb(9,"form",7,8),u.Vb(11,"span",9),u.Qb(12,"img",10),u.Qb(13,"input",11),u.Ub(),u.Vb(14,"span",9),u.Qb(15,"img",12),u.Qb(16,"input",13),u.Ub(),u.Ub(),u.Vb(17,"button",14),u.dc("click",(function(){u.vc(n);var e=u.tc(10);return t.onAddSubGallery(e)})),u.Dc(18," + "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&e){var a=u.tc(10);u.Cb(6),u.mc("ngForOf",t.subGalleries),u.Cb(6),u.mc("src",t.flagIcons[0].src,u.wc),u.Cb(3),u.mc("src",t.flagIcons[1].src,u.wc),u.Cb(2),u.mc("disabled",!a.valid)}},directives:[w.h,w.f,k,v,s.A,s.m,s.n,w.b,O.e,c.s,w.e,s.c,s.l,s.o,s.v,O.a,O.b,P.a,P.d],styles:['.sub-gallery-container[_ngcontent-%COMP%]{background-color:#fff}.new-sub-gallery-container[_ngcontent-%COMP%], .sub-gallery-top-container[_ngcontent-%COMP%]{background-color:#faebd7;margin:16px;border-radius:8px;width:250px}.sub-galleries-container[_ngcontent-%COMP%]{overflow:auto}.image[_ngcontent-%COMP%]{max-width:100px;max-height:120px}.delete-container[_ngcontent-%COMP%]{color:#bf0000;padding:12px 16px;font-size:16px;cursor:pointer}.drag-container[_ngcontent-%COMP%]{padding:12px 16px;font-size:16px;cursor:move;color:grey}.delete-container[_ngcontent-%COMP%]:hover{color:#df8080}input[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:25%}input[type=submit][_ngcontent-%COMP%]:hover{opacity:.8}.container[_ngcontent-%COMP%]{padding:16px;text-align:center}#myImg[_ngcontent-%COMP%]{border-radius:5px;cursor:pointer;transition:.3s}#myImg[_ngcontent-%COMP%]:hover{opacity:.7}.row[_ngcontent-%COMP%] > .column[_ngcontent-%COMP%]{padding:0 8px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}img.demo[_ngcontent-%COMP%]{opacity:.6}.active[_ngcontent-%COMP%], .demo[_ngcontent-%COMP%]:hover{opacity:1}img.hover-shadow[_ngcontent-%COMP%]{transition:.3s}.hover-shadow[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}table[_ngcontent-%COMP%]{text-align:left!important;width:100%;border-collapse:collapse}td[_ngcontent-%COMP%]{border:none;width:33%;padding:10px}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.page-container[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-align:center}select[_ngcontent-%COMP%]{width:calc(20% - 20px);margin-left:20px;height:45px}.example-list[_ngcontent-%COMP%]{max-width:100%;min-height:60px;display:block;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;color:rgba(0,0,0,.87);box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.image-card[_ngcontent-%COMP%]{width:250px;margin-bottom:16px;background-color:#fefefe;border:3px solid #f1f1f1;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);padding:0}@media screen and (max-width:600px){.image-card[_ngcontent-%COMP%], .new-sub-gallery-container[_ngcontent-%COMP%], .sub-gallery-top-container[_ngcontent-%COMP%]{width:70vw}.sub-galleries-container[_ngcontent-%COMP%]{-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory}.new-sub-gallery-container[_ngcontent-%COMP%], .sub-gallery-container[_ngcontent-%COMP%]{scroll-snap-align:center}}.image-card[_ngcontent-%COMP%]:first-child{margin-top:16px}.card-input[_ngcontent-%COMP%]{width:calc(100% - 30px);margin:8px;border:none;background-color:inherit;font-weight:bolder;height:20px}.card-input[_ngcontent-%COMP%]:hover{cursor:pointer}.flag-icon[_ngcontent-%COMP%]{height:10px;width:auto;margin:8px 0}.card-input[_ngcontent-%COMP%]:first-child{margin-top:16px!important}.title-label[_ngcontent-%COMP%]{padding-left:30px;width:100%;text-align:left}.save[_ngcontent-%COMP%]{margin-bottom:16px}']}),G),V=((L=function(){function e(t){_classCallCheck(this,e),this.facade=t,this.facade.autoLogin()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"loginUser",value:function(e){this.facade.loginStart(e.value.username,e.value.password)}}]),e}()).\u0275fac=function(e){return new(e||L)(u.Pb(_.a))},L.\u0275cmp=u.Jb({type:L,selectors:[["app-login"]],decls:8,vars:0,consts:[["id","login-form",3,"ngSubmit"],["loginForm","ngForm"],["type","text","name","username","id","username","placeholder","K\xe4ytt\xe4j\xe4nimi","ngModel",""],["type","password","name","password","id","password","placeholder","Salasana","ngModel",""],["mat-button","","form","login-form",1,"ok-button"],["routerLink","/home"]],template:function(e,t){if(1&e){var n=u.Wb();u.Vb(0,"form",0,1),u.dc("ngSubmit",(function(){u.vc(n);var e=u.tc(1);return t.loginUser(e)})),u.Qb(2,"input",2),u.Qb(3,"input",3),u.Vb(4,"button",4),u.Dc(5,"Kirjaudu sis\xe4\xe4n"),u.Ub(),u.Vb(6,"a",5),u.Dc(7,"Etusivulle"),u.Ub(),u.Ub()}},directives:[s.A,s.m,s.n,s.c,s.l,s.o,C.b,l.f],styles:["form[_ngcontent-%COMP%]{border:3px solid #f1f1f1;padding:20px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);transform:translate(-50%,-50%);left:50%;top:50%;position:absolute;width:50%}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}@media screen and (max-width:600px){form[_ngcontent-%COMP%]{width:80%}}.ok-button[_ngcontent-%COMP%]{margin-top:8px;width:100%;margin-bottom:8px}"]}),L),R=n("EF9M"),A=((D=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||D)},D.\u0275cmp=u.Jb({type:D,selectors:[["app-spinner-overlay"]],decls:1,vars:0,consts:[[1,"loader"]],template:function(e,t){1&e&&u.Qb(0,"div",0)},styles:[".loader[_ngcontent-%COMP%]{margin:100px auto;font-size:25px;width:1em;height:1em;border-radius:50%;position:relative;text-indent:-9999em;-webkit-animation:load5 1.1s ease infinite;animation:load5 1.1s ease infinite;transform:translateZ(0)}@-webkit-keyframes load5{0%,to{box-shadow:0 -2.6em 0 0 grey,1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.5),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.7)}12.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.7),1.8em -1.8em 0 0 grey,2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.5)}25%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.5),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.7),2.5em 0 0 0 grey,1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}37.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.5),2.5em 0 0 0 hsla(0,0%,50.2%,.7),1.75em 1.75em 0 0 grey,0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}50%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.5),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.7),0 2.5em 0 0 grey,-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}62.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.5),0 2.5em 0 0 hsla(0,0%,50.2%,.7),-1.8em 1.8em 0 0 grey,-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}75%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.5),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.7),-2.6em 0 0 0 grey,-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}87.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.5),-2.6em 0 0 0 hsla(0,0%,50.2%,.7),-1.8em -1.8em 0 0 grey}}@keyframes load5{0%,to{box-shadow:0 -2.6em 0 0 grey,1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.5),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.7)}12.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.7),1.8em -1.8em 0 0 grey,2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.5)}25%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.5),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.7),2.5em 0 0 0 grey,1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}37.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.5),2.5em 0 0 0 hsla(0,0%,50.2%,.7),1.75em 1.75em 0 0 grey,0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}50%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.5),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.7),0 2.5em 0 0 grey,-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.2),-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}62.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.5),0 2.5em 0 0 hsla(0,0%,50.2%,.7),-1.8em 1.8em 0 0 grey,-2.6em 0 0 0 hsla(0,0%,50.2%,.2),-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}75%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.5),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.7),-2.6em 0 0 0 grey,-1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2)}87.5%{box-shadow:0 -2.6em 0 0 hsla(0,0%,50.2%,.2),1.8em -1.8em 0 0 hsla(0,0%,50.2%,.2),2.5em 0 0 0 hsla(0,0%,50.2%,.2),1.75em 1.75em 0 0 hsla(0,0%,50.2%,.2),0 2.5em 0 0 hsla(0,0%,50.2%,.2),-1.8em 1.8em 0 0 hsla(0,0%,50.2%,.5),-2.6em 0 0 0 hsla(0,0%,50.2%,.7),-1.8em -1.8em 0 0 grey}}"]}),D),j=["uploadForm"];function Q(e,t){if(1&e&&u.Qb(0,"img",15),2&e){var n=u.hc();u.mc("src",n.imgUrl,u.wc)}}function T(e,t){1&e&&(u.Vb(0,"div",16),u.Qb(1,"app-spinner-overlay"),u.Ub())}var z,q,N,E,H=((z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a,r,o){var i;return _classCallCheck(this,n),(i=t.call(this)).img=e,i.dialogRef=a,i.imageCompress=r,i.facade=o,i.file=null,i.disabled=!0,i.loading=!1,i}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.facade.getIsUploadingImg().pipe(Object(y.a)(this.ngUnsubscribe)).subscribe((function(t){"completed"===t?(e.uploadForm.reset(),e.file=null,e.imgUrl=null,e.dialogRef.close()):"cancelled"===t&&(e.loading=!1)}))}},{key:"uploadFile",value:function(e){0!=confirm("Haluatko varmasti ladata kuvan?")&&(this.loading=!0,this.facade.imgUploadRequested({alt_fi:e.value.alt_fi,alt_en:e.value.alt_en,image:this.imgUrl},this.galleryId))}},{key:"cancelUpload",value:function(){this.dialogRef.close()}},{key:"compressFile",value:function(){var e=this;this.imageCompress.uploadFile().then((function(t){var n=t.image,a=t.orientation;e.loading=!0;var r=e.imageCompress.byteCount(n)>15e5?15e5/e.imageCompress.byteCount(n)*100:100;e.imageCompress.compressFile(n,a,100,r).then((function(t){e.imgUrl=t,e.disabled=!1,e.loading=!1}))}))}}]),n}(h.a)).\u0275fac=function(e){return new(e||z)(u.Pb(R.a),u.Pb(p.h),u.Pb(f),u.Pb(_.a))},z.\u0275cmp=u.Jb({type:z,selectors:[["app-upload-component"]],viewQuery:function(e,t){var n;1&e&&u.Hc(j,!0),2&e&&u.sc(n=u.ec())&&(t.uploadForm=n.first)},inputs:{galleryId:"galleryId"},features:[u.zb],decls:21,vars:3,consts:[[1,"upload-card"],["id","upload-form","ngNativeValidate","",1,"upload-form",3,"ngSubmit"],["uploadForm","ngForm"],[1,"imgcontainer"],["class","preview",3,"src",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"container"],["for","file-upload","fxFlex","nogrow",1,"custom-file-upload","max-width",3,"click"],[1,"fa","fa-cloud-upload"],["type","text","name","alt_fi","placeholder","Kuvateksti","required","","ngModel","","fxFlex","nogrow",1,"img-insert-input","max-width"],["type","text","name","alt_en","placeholder","Kuvateksti (englanninkielinen)","ngModel","","fxFlex","nogrow",1,"img-insert-input","max-width"],["fxFlex","nogrow","fxLayout","row",1,"button-container","max-width"],["mat-button","","type","button","fxFlex","",1,"warn-button","cancel-button",3,"click"],["fxFlex","16px"],["mat-button","","form","upload-form","fxFlex","",1,"ok-button","upload-button",3,"disabled"],["class","spinner-wrapper",4,"ngIf"],[1,"preview",3,"src"],[1,"spinner-wrapper"]],template:function(e,t){if(1&e){var n=u.Wb();u.Vb(0,"mat-card",0),u.Vb(1,"mat-card-content"),u.Vb(2,"form",1,2),u.dc("ngSubmit",(function(){u.vc(n);var e=u.tc(3);return t.uploadFile(e)})),u.Vb(4,"h1"),u.Dc(5,"Lis\xe4\xe4 kuva"),u.Ub(),u.Vb(6,"div",3),u.Cc(7,Q,1,1,"img",4),u.Ub(),u.Vb(8,"div",5),u.Vb(9,"label",6),u.dc("click",(function(){return t.compressFile()})),u.Qb(10,"i",7),u.Dc(11," Valitse tiedosto "),u.Ub(),u.Qb(12,"input",8),u.Qb(13,"input",9),u.Vb(14,"div",10),u.Vb(15,"button",11),u.dc("click",(function(){return t.cancelUpload()})),u.Dc(16," Peruuta "),u.Ub(),u.Qb(17,"span",12),u.Vb(18,"button",13),u.Dc(19," Lataa "),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Cc(20,T,2,0,"div",14)}2&e&&(u.Cb(7),u.mc("ngIf",t.imgUrl),u.Cb(11),u.mc("disabled",t.disabled),u.Cb(2),u.mc("ngIf",t.loading))},directives:[P.a,P.d,s.m,s.n,c.t,w.f,w.e,w.b,s.c,s.v,s.l,s.o,C.b,A],styles:[".upload-card[_ngcontent-%COMP%]{border:none;margin:none}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:block;padding:6px 12px;cursor:pointer;margin-bottom:8px}.img-insert-input[_ngcontent-%COMP%]{padding:12px 20px;margin-top:8px;display:inline-block;border:1px solid #ccc;box-sizing:border-box;height:45px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px;min-height:132px}img.preview[_ngcontent-%COMP%]{max-width:100px;max-height:120px;margin:0 auto;display:block;padding:6px 12px}.cancel-button[_ngcontent-%COMP%], .upload-button[_ngcontent-%COMP%]{margin-top:16px}"]}),z),$=n("brn1"),J=((q=function(){function e(t,n,a){_classCallCheck(this,e),this.authenticationService=t,this.router=n,this.facade=a}return _createClass(e,[{key:"resolve",value:function(e,t){var n=this;if("false"!==e.queryParams.resolve)return this.authenticationService.authStatus().subscribe((function(e){return n.router.navigate(["/auth/admin"]),e}),(function(e){n.facade.logoutRequested(),n.router.navigate(["/auth/login"])}))}}]),e}()).\u0275fac=function(e){return new(e||q)(u.Zb($.a),u.Zb(l.c),u.Zb(_.a))},q.\u0275prov=u.Lb({token:q,factory:q.\u0275fac,providedIn:"root"}),q),W=n("IzEk"),Z=n("lJxs"),B=((N=function(){function e(t,n){_classCallCheck(this,e),this.authenticationService=t,this.facade=n}return _createClass(e,[{key:"canDeactivate",value:function(e,t,n){return this.facade.isLoggedIn().pipe(Object(W.a)(1),Object(Z.a)((function(e){return!e})))}}]),e}()).\u0275fac=function(e){return new(e||N)(u.Zb($.a),u.Zb(_.a))},N.\u0275prov=u.Lb({token:N,factory:N.\u0275fac,providedIn:"root"}),N),K=n("LRne"),X=n("JIr8"),Y=((E=function(){function e(t,n,a){_classCallCheck(this,e),this.authenticationService=t,this.router=n,this.route=a}return _createClass(e,[{key:"canActivate",value:function(e,t){var n=this;return this.authenticationService.authStatus().pipe(Object(Z.a)((function(e){return!0})),Object(X.a)((function(e){return n.router.navigate(["/auth/login"]),Object(K.a)(e)})))}}]),e}()).\u0275fac=function(e){return new(e||E)(u.Zb($.a),u.Zb(l.c),u.Zb(l.a))},E.\u0275prov=u.Lb({token:E,factory:E.\u0275fac,providedIn:"root"}),E),ee=n("Kude"),te=n("u47x"),ne=n("UXJo"),ae=n("B/XX"),re=n("f6nW"),oe=n("FvrZ"),ie=n("vxfF"),ce=n("/1cH"),le=n("FKr1"),se=n("cH1L"),ue=n("TU8p"),de=n("2ChS"),me=n("jaxi"),fe=n("bSwM"),pe=n("A5z7"),be=n("xHqg"),ge=n("iadO"),he=n("f0Cb"),ye=n("7EHt"),ve=n("zkoq"),xe=n("NFeN"),_e=n("ihCf"),we=n("kmnG"),Ce=n("qFsG"),ke=n("MutI"),Oe=n("STbY"),Pe=n("M9IT"),Me=n("bv9b"),Ie=n("Xa2L"),Ue=n("QibW"),Fe=n("d3UM"),Le=n("XhcP"),Ge=n("5RNC"),De=n("1jcm"),Se=n("dNgK"),Ve=n("Dh3D"),Re=n("+0xr"),Ae=n("wZkO"),je=n("/t3+"),Qe=n("Qu3c"),Te=n("8yBR"),ze=n("+rOU"),qe=n("znSr"),Ne=n("zpSk");n.d(t,"AuthModule",(function(){return He}));var Ee,He=((Ee=function e(){_classCallCheck(this,e)}).\u0275mod=u.Nb({type:Ee}),Ee.\u0275inj=u.Mb({factory:function(e){return new(e||Ee)},providers:[f],imports:[[l.g.forChild([{path:"",redirectTo:"admin",pathMatch:"full"},{path:"admin",component:S,canActivate:[Y],canDeactivate:[B]},{path:"login",component:V,resolve:{authResolver:J}}]),s.f,ee.a,c.c]]}),Ee);u.xc(g,[l.h,l.d,l.f,l.e,l.i,s.A,s.q,s.z,s.c,s.r,s.u,s.a,s.w,s.x,s.t,s.l,s.m,s.v,s.h,s.g,s.s,s.b,s.d,s.o,s.p,s.n,te.d,te.f,te.e,ne.a,ae.a,ae.d,ae.b,ae.c,ae.f,ae.g,re.p,re.o,re.c,re.d,re.k,re.g,re.e,re.b,re.n,re.j,re.f,re.l,re.m,re.h,re.i,re.s,re.u,re.t,re.r,oe.b,oe.f,oe.h,oe.i,oe.c,oe.e,oe.g,ie.b,O.e,O.f,O.a,O.b,O.d,O.c,ce.a,le.n,le.m,ce.d,ce.c,se.b,ue.a,de.a,C.b,C.a,me.b,me.a,P.a,P.f,P.n,P.d,P.m,P.l,P.b,P.e,P.k,P.i,P.h,P.g,P.o,P.c,fe.a,fe.c,pe.d,pe.a,pe.c,pe.e,pe.b,pe.f,be.a,be.j,be.b,be.d,be.e,be.h,be.i,be.c,be.f,ge.a,ge.b,ge.d,ge.e,ge.f,ge.h,ge.i,ge.j,ge.l,ge.k,ge.c,p.e,p.c,p.i,p.f,p.b,he.a,ye.a,ye.c,ye.d,ye.g,ye.h,ye.f,ye.e,ve.b,ve.d,ve.g,le.j,ve.f,ve.e,ve.a,xe.a,_e.b,_e.c,we.b,we.c,we.f,we.g,we.h,we.i,we.j,Ce.b,Ce.d,ke.a,ke.h,ke.d,ke.b,ke.c,ke.g,le.q,ke.i,ke.f,Oe.e,Oe.b,Oe.d,Oe.a,Pe.a,Me.a,Ie.a,Ie.c,Ue.b,Ue.a,le.s,Fe.a,Fe.c,Le.a,Le.b,Le.c,Le.d,Le.e,Le.f,Ge.a,De.c,De.a,Se.d,Ve.a,Ve.b,Re.n,Re.i,Re.k,Re.c,Re.b,Re.m,Re.e,Re.g,Re.h,Re.a,Re.d,Re.j,Re.l,Re.f,Re.p,Ae.c,Ae.d,Ae.a,Ae.f,Ae.e,Ae.b,je.a,je.c,Qe.a,Qe.c,Te.a,Te.e,Te.g,Te.h,Te.b,Te.d,Te.f,ze.b,ze.c,ze.j,ze.f,ie.a,ie.d,ie.e,w.f,w.g,w.e,w.d,w.c,w.h,w.a,w.b,qe.c,qe.a,qe.d,qe.b,Ne.e,Ne.f,Ne.g,Ne.h,Ne.i,Ne.j,Ne.k,Ne.l,Ne.b,Ne.c,Ne.d,c.q,c.r,c.s,c.t,c.A,c.w,c.x,c.y,c.z,c.u,c.v,S,V,k,H,g,A,v],[c.b,c.G,c.p,c.k,c.E,c.g,c.C,c.F,c.d,c.f,c.i,c.j,c.l])}}]);